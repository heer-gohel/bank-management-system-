{% extends 'base.html' %}
{% block title %}Account {{ account['account_number'] }} - Bank{% endblock %}
{% block content %}
<h1>Account {{ account['account_number'] }}</h1>
<div class="grid-2">
  <section class="card">
    <h2>Balance</h2>
    <div class="big">₹ {{ '%.2f'|format(account['balance']) }}</div>
    <form method="post" action="{{ url_for('deposit', account_id=account['id']) }}" class="inline-form">
      <input type="number" step="0.01" min="0.01" name="amount" placeholder="Amount">
      <button type="submit">Deposit</button>
    </form>
    <form method="post" action="{{ url_for('withdraw', account_id=account['id']) }}" class="inline-form">
      <input type="number" step="0.01" min="0.01" name="amount" placeholder="Amount">
      <button type="submit">Withdraw</button>
    </form>
    <a class="btn" href="{{ url_for('transfer') }}">Transfer Money</a>
  </section>
  <section class="card">
    <h2>Recent Transactions</h2>
    {% if txns %}
      <table>
        <thead><tr><th>Date</th><th>Type</th><th>Amount</th><th>Remarks</th></tr></thead>
        <tbody>
          {% for t in txns %}
            <tr>
              <td>{{ t['created_at'] }}</td>
              <td>{{ t['kind'] }}</td>
              <td>₹ {{ '%.2f'|format(t['amount']) }}</td>
              <td>{{ t['description'] }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No transactions yet.</p>
    {% endif %}
  </section>
</div>
{% endblock %}
